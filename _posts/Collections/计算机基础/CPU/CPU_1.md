# CPU
## 〇、Reference
1. [处理器架构](https://baike.baidu.com/item/处理器架构/8535061?fr=aladdin)
2. [CPU的功能和组成](https://software.intel.com/zh-cn/articles/book-Processor-Architecture_CPU_function_and_composition)
3. [高级语言，汇编语言，机器语言](https://blog.csdn.net/sinat_38972110/article/details/72907245)
## 一、 Question
1. CPU 和 指令集 的关系
    - CPU 是什么
    - 指令集是什么
    - CPU 的来历
        - 计算机发展史
        - 计算机组成原理

## 二、 Answer
### 2.1. CPU是什么
- 计算机由 控制器、运算器、存储器、输入设备、输出设备 五部分组成。
- 传统上，CPU由控制器和运算器这两个主要部件组成，虽然后来增加了一些其他组件(暂不考虑)但是核心依旧是该二者。

#### 2.1.1 控制器
控制器是整个计算机系统的指挥中心。在控制器的指挥控制下，运算器、存储器和输入/输出设备等部件协同工作，构成了一台完整的通用计算机。

控制器根据程序预定的指令执行顺序，从主存取出一条指令，按该指令的功能，用硬件产生所需的带有时序标志的一系列微操作控制信号，控制计算机内各功能部件的操作，协调和指挥整个计算机完成指令的功能。

控制器通常由程序计数器（PC）、指令寄存器（IR）、指令译码器（ID）、时序发生器和操作控制器组成。其主要功能包括：

1. 从主存中取出一条指令，并指出下一条指令在主存中的位置；
2. 对指令进行译码，并产生相应的操作控制信号，以便启动规定的动作；
3. 指挥并控制CPU、主存和输入/输出设备之间数据流动的方向。

#### 2.1.2 运算器 
运算器是计算机中用于实现数据加工处理等功能的部件，它接受控制器的命令，负责完成对操作数据的加工处理任务，其核心部件是算术逻辑单元(Arithmetic Logic Unit，ALU)。

相对控制器而言，运算器接受控制器的命令而进行动作，即运算器所进行的全部操作都是由控制器发出的控制信号来指挥的，所以它是执行部件。

运算器由算术逻辑单元(ALU)、累加寄存器（AC）、数据寄存器（DR）和程序状态字寄存器（PSW）组成。它有两个主要功能：

1. 执行所有的算术运算；
2. 执行所有的逻辑运算，并进行逻辑测试。

### 2.2. 指令集是什么
**指令集架构** （英语：Instruction Set Architecture，缩写为ISA），又称 **指令集** 或 **指令集体**系，是计算机体系结构中与程序设计有关的部分，包含了基本数据类型，指令集，寄存器，寻址模式，存储体系，中断，异常处理以及外部I/O。指令集架构包含一系列的opcode即操作码（机器语言），以及由特定处理器执行的基本命令。

#### 2.2.1 名称
**计算机语言** 具有高级语言和低级语言之分。而高级语言又主要是相对于汇编语言而言的，它是较接近自然语言和数学公式的编程，基本脱离了机器的硬件系统，用人们更易理解的方式编写程序。编写的程序称之为源程序。低级语言分机器语言（二进制语言）和汇编语言（符号语言），这两种语言都是面向机器的语言，和具体机器的指令系统密切相关。机器语言用指令代码编写程序，而符号语言用指令助记符来编写程序。高级语言、汇编语言和机器语言都是用于编写计算机程序的语言。

**机器语言（machine language）** 是一种指令集的体系。这种指令集，称机器码（machine code），是电脑的CPU可直接解读的数据。机器语言是用二进制代码表示的计算机能直接识别和执行的一种机器指令的集合。它是计算机的设计者通过计算机的硬件结构赋予计算机的操作功能。机器语言具有灵活、直接执行和速度快等特点。不同型号的计算机其机器语言是不相通的，按着一种计算机的机器指令编制的程序，不能在另一种计算机上执行。

**汇编语言（assembly language）** 亦称为符号语言。在汇编语言中，用助记符（Mnemonics）代替机器指令的操作码，用地址符号（Symbol）或标号（Label）代替指令或操作数的地址。在不同的设备中，汇编语言对应着不同的机器语言指令集，通过汇编过程转换成机器指令。普遍地说，特定的汇编语言和特定的机器语言指令集是一一对应的,不同平台之间不可直接移植。汇编语言是直接面向处理器（Processor）的程序设计语言。所操作的对象不是具体的数据,而是寄存器或者存储器，也就是说它是直接和寄存器和存储器打交道，这也是为什么汇编语言的执行速度要比其它语言快，但同时这也使编程更加复杂。再者，汇编语言指令是机器指令的一种符号表示，而不同类型的CPU 有不同的机器指令系统，也就有不同的汇编语言,所以，汇编语言程序与机器有着密切的关系。所以，除了同系列、不同型号CPU 之间的汇编语言程序有一定程度的可移植性之外，其它不同类型（如：小型机和微机等）CPU 之间的汇编语言程序是无法移植的。

**高级语言** 是高度封装了的编程语言，与低级语言相对。它是以人类的日常语言为基础的一种编程语言，使用一般人易于接受的文字来表示（例如汉字、不规则英文或其他外语），从而使程序编写员编写更容易，亦有较高的可读性，以方便对电脑认知较浅的人亦可以大概明白其内容。如流行的java，c，c++，C#，pascal，python，lisp，prolog，FoxPro，易语言，中文版的C语言习语言等等，这些语言的语法、命令格式都不相同。

**机器码** 是0和1组成的二进制序列，可读性极差

**指令** 就是把特定的0和1序列，简化成对应的指令（一般为英文简写，如mov，inc等），可读性稍好

**汇编语言** 包括指令和伪指令。伪指令是为了编程方便，对部分指令做的封装。

#### 2.2.2 动作
**汇编** 汇编语言转换成机器码

**编译** 以C/++语言为例，其他不知道：
1. 预处理：处理宏定义、条件编译、预处理等指令
2. 编译：编译阶段所有做的工作就是通过词法分析和语法分析，在确认所有指令都符合语法规则之后，将其翻译成等价的中间代码或者是汇编代码。
3. 汇编：汇编是把汇编语言代码翻译成目标机器指令的过程。目标文件中存放的是与源程序等效的目标机器语言代码。
4. 连接：链接阶段的主要工作是将有关的目标文件相链接，即将一个文件中引用的符号同该符号在另外一个文件中的定义连接起来，使得所有这些目标文件成为一个能够被操作系统执行的统一整体。

### 2.3 CPU和指令集的关系
1. 不同的 CPU 对应不同的指令集

## CPU 发展史



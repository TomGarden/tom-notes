---
layout: post
title:  null
date:   2018-08-16 17:44:06 +0800
categories: jekyll update
author: Tom
---

-----------------------------
__ç›®å½•__
- jekyll çš„ kmarkdown è´Ÿè´£è§£æ
{:toc}

-----------------------------
<br>

# GitHub Developer Â· App Â· Building Apps
åŸæ–‡ï¼šhttps://developer.github.com/apps/#support-requests

## ä¸€ã€ Build Apps
GitHub App æ‰©å±•å’Œæ”¹è¿›ç°æœ‰çš„å·¥ä½œæµã€‚
äººä»¬å¯ä»¥æ„å»º app ï¼Œä» GitHub åº”ç”¨å¸‚åœºè´­ä¹° appï¼Œæˆ–è€…æµè§ˆä¸ GitHub é›†æˆçš„æœ‰ç”¨çš„å·¥å…·å’ŒæœåŠ¡ã€‚

>**Note:** åˆ° 2018-10-1 GitHub Services å°†ä¸åœ¨æä¾›æ”¯æŒã€‚
è¯·åœ¨[blog](https://developer.github.com/changes/2018-04-25-github-services-deprecation)æŸ¥çœ‹æ›´å¤šç»†èŠ‚ã€‚
ä½ å¯ä»¥ä½¿ç”¨[æ›¿æ¢ GitHub Services æŒ‡å¯¼](https://developer.github.com/v3/guides/replacing-github-services)å¸®åŠ©è‡ªå·±æ›´æ–° webhook æœåŠ¡ã€‚

ä½ å¯ä»¥æ„å»º GitHub App å’Œ OAuth Appã€‚
è¦é€‰æ‹©ä¸€ç§ app ç±»å‹å¯ä»¥å‚ç…§[about apps](https://developer.github.com/apps/about-apps/)å’Œ[GitHub app å’Œ OAuth app çš„ä¸åŒ](https://developer.github.com/apps/differences-between-apps/)ã€‚

[ä¸€ä¸ªæ¼”ç»ƒå…³äºæ„å»ºä¸€ä¸ª GitHub App:æ„å»ºä½ çš„ç¬¬ä¸€ä¸ª GitHub App](https://developer.github.com/apps/building-your-first-github-app)

## 1.1ã€ æ”¯æŒè¯·æ±‚
**GitHub Appsï¼š** ä½¿ç”¨ [GitHub Platfor Forum](https://platform.github.community/c/integrations) æ”¯æŒè¯·æ±‚ï¼ŒBug æŠ¥å‘Šå’Œè®¨è®ºã€‚
è¿™ä¸ªè®ºå›(forum)å…è®¸ä½ å’Œå…¶ä»–å·¥ç¨‹å¸ˆå’Œäº§å“ç»ç†åˆä½œã€‚

**OAuth Appsï¼š** ç›´æ¥è”ç³» [GitHub support](https://github.com/contact)

## äºŒã€ About apps
ä½ å¯ä»¥å’Œ GitHub API é›†æˆæ„å»ºä»è€Œä½¿è‡ªå·±çš„å·¥ä½œæµç¨‹å¢åŠ çµæ´»æ€§å‡å°‘é˜»ç¢ã€‚
ä½ ä¹Ÿå¯ä»¥åœ¨ [GitHub å¸‚åœº](https://github.com/marketplace) å’Œ [GitHub ä¸Šçš„å…¶ä»–å·¥ä½œè€…](https://github.com/works-with) å’Œå…¶ä»–äººåˆ†äº«é›†æˆã€‚

### 2.1ã€ å…³äº GitHub App
GitHub App æ˜¯ GitHub ä¸­çš„ä¸€æµæ¼”å‘˜ã€‚
GitHub App ä»£è¡¨å…¶è‡ªèº«çš„è¡Œä¸ºï¼Œé€šè¿‡ API ç›´æ¥ä½¿ç”¨è‡ªå·±çš„èº«ä»½è¡ŒåŠ¨ï¼Œè¿™æ„å‘³ç€ä½ æ— éœ€å°†æœºå™¨äººæˆ–è€…æœåŠ¡è´¦æˆ·ç»´æŠ¤ä¸ºå•ç‹¬çš„ç”¨æˆ·ã€‚

GitHub App å¯ä»¥è¢«ç›´æ¥å®‰è£…åˆ°ç»„ç»‡æˆ–è€…ä¸ªäººè´¦æˆ·ï¼Œå¹¶ä¸”å¯ä»¥è¢«æˆäºˆè®¿é—®æŒ‡å®š repositories çš„æƒé™ã€‚
å®ƒä»¬é™„å¸¦å†…ç½®çš„ webhook ä»¥åŠå—é™çš„æƒé™ã€‚
å½“ä½ è®¾ç½® GitHub App çš„æ—¶å€™ä½ å¯ä»¥é€‰æ‹©ä½ å…è®¸å®ƒè®¿é—®çš„ repositoriesã€‚
ä¾‹å¦‚ï¼Œå‡è®¾ä½ çš„ä¸€ä¸ª GitHub App åä¸º `MyGitHub` ä½ å¯ä»¥è®¾ç½®å®ƒèƒ½ä¸”ä»…èƒ½åœ¨ `octocat` repository ä¸­å†™ issuesã€‚
è¦å®‰è£…ä¸€ä¸ª GitHub Appï¼Œä½ å¿…é¡»æ˜¯ä¸€ä¸ªç»„ç»‡çš„æ‰€æœ‰è€…æˆ–è€…åœ¨ repository ä¸­æœ‰ç®¡ç†å‘˜æƒé™ã€‚

GitHub App æ˜¯éœ€è¦æ‰˜ç®¡åœ¨æŸä¸ªåœ°æ–¹çš„åº”ç”¨ç¨‹åºã€‚
æ‰‹æŠŠæ‰‹æŒ‡å¯¼ä½ åˆ›å»ºè‡ªå·±çš„ GitHub App å’Œå…¶æ‰˜ç®¡æœåŠ¡å™¨ï¼š[Building Your First GitHub App](https://developer.github.com/apps/building-your-first-github-app)

è¦å®ç°ä½ çš„å·¥ä½œæµç¨‹ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªè„šæœ¬æˆ–è€…åŒ…å«ä¸€æ•´å¥—åº”ç”¨ç¨‹åºçš„ app ï¼Œå¹¶ä¸”å°†è¯¥ app å’Œå…¶ä»–ä¼—å¤šçš„å·¥å…·è¿æ¥èµ·æ¥ã€‚
ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°†GitHubåº”ç”¨ç¨‹åºè¿æ¥åˆ°GitHubï¼ŒSlackï¼Œæ‚¨å¯èƒ½æ‹¥æœ‰çš„å…¶ä»–å†…éƒ¨åº”ç”¨ç¨‹åºï¼Œç”µå­é‚®ä»¶ç¨‹åºæˆ–å…¶ä»–APIã€‚

å½“ä½ åˆ›å»º GitHub App çš„æ—¶å€™åº”è¯¥è®°ä½ä»¥ä¸‹å‡ ç‚¹ï¼š
1. GitHubåº”ç”¨ç¨‹åºåº”é‡‡å–ç‹¬ç«‹äºç”¨æˆ·çš„æ“ä½œï¼ˆé™¤éåº”ç”¨ç¨‹åºä½¿ç”¨[ç”¨æˆ·åˆ°æœåŠ¡å™¨](https://developer.github.com/apps/building-github-apps/identifying-and-authorizing-users-for-github-apps#user-to-server-requests)ä»¤ç‰Œï¼‰ã€‚
2. ç¡®ä¿ GitHub App ä¸æŒ‡å®šçš„ repositories ç›¸ç»“åˆã€‚
3. GitHub App åº”è¯¥è¿æ¥åˆ°ä¸€ä¸ªä¸ªäººæˆ–è€…ç»„ç»‡çš„è´¦æˆ·ã€‚
4. ä¸è¦æœŸæœ› GitHub App èƒ½å¤Ÿåƒä¸€ä¸ªä¸€èˆ¬ç”¨æˆ·ä¸€æ ·èƒ½äº†è§£å’Œæ‰§è¡Œæ‰€æœ‰ä¸€èˆ¬ç”¨æˆ·èƒ½åšçš„äº‹æƒ…ã€‚
5. å¦‚æœä½ æ°å¥½å¸Œæœ›æœ‰ä¸€ä¸ªç¨‹åºèƒ½å……å½“ GitHub ç”¨æˆ·ï¼Œåšæ‰€æœ‰ç”¨æˆ·èƒ½åšçš„äº‹æƒ…ï¼Œä¸è¦æ„å»º GitHub Appã€‚

è¦å¼€å‘ä¸€ä¸ª GitHub App ä»è¿™é‡Œå¼€å§‹ï¼š[Creating a GitHub App](https://developer.github.com/apps/building-github-apps/creating-a-github-app/)

### 2.2ã€ å…³äº OAuth App
OAuth2 æ˜¯ä¸€ä¸ªå½“å¤–éƒ¨ç¨‹åºåœ¨æä¾›çš„ç”¨æˆ· GitHub è´¦æˆ·ä¿¡æ¯è¯·æ±‚èº«ä»½è®¤è¯è¿‡ç¨‹ä¸­ä¸å¿…æä¾›å¯†ç çš„åè®®ã€‚
è¿™æ˜¯æ¯” åŸºæœ¬èº«ä»½è®¤è¯(Basic Authentication) æ›´å¥½çš„é€‰æ‹©,å› ä¸ºä½¿ç”¨ token å…è®¸æŒ‡å®š App æ‰€è®¿é—®æ•°æ®çš„èŒƒå›´ï¼Œå¹¶ä¸”æ”¯æŒéšæ—¶æ’¤é”€ç”¨æˆ·çš„è®¿é—®æƒé™ã€‚

An OAuth App uses GitHub as an identity provider to authenticate as the user who grants access to the app.(OAuth App ä½œä¸ºå…¶èº«ä»½çš„æä¾›è€…ä½¿ç”¨ GitHubã€‚)
æ„æ€å°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·æˆäºˆä¸€ä¸ª OAuth App è®¿é—®æƒé™ï¼Œè¯¥ App è·å¾—çš„æƒé™æ˜¯è¯¥ç”¨æˆ·æ‰€èƒ½è®¿é—®çš„æ‰€æœ‰ repository ä¹ŸåŒ…æ‹¬è¯¥ç”¨æˆ·æ‰€åœ¨çš„æ²¡æœ‰é˜»æ­¢ä¸‰æ–¹è®¿é—®çš„ç»„ç»‡æƒé™ã€‚

å¦‚æœä½ æ­£åœ¨åˆ›å»ºæ¯”ç®€å•è„šæœ¬æ›´å¤æ‚çš„ç¨‹åºï¼Œæ„å»ºä¸€ä¸ª OAuth App æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚
æ³¨æ„ OAuth App éœ€è¦æ‰˜ç®¡åˆ°æŸå¤„ã€‚

åœ¨åˆ›å»º OAuth App çš„è¿‡ç¨‹ä¸­åº”è¯¥è®°ä½ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ä¸€ä¸ª OAuth App åº”è¯¥æ€»æ˜¯å……å½“ GitHub è®¤è¯ç”¨æˆ·(ä¾‹å¦‚ï¼Œå½“æä¾›ç”¨æˆ·é€šçŸ¥çš„æ—¶å€™)ã€‚
2. å¯¹è®¤è¯ç”¨æˆ·æ¥è®²ä¸€ä¸ª OAuth App èƒ½åœ¨ç™»å½• GitHub çš„æ˜¯å¶è¢«ä½œä¸ºä¸€ä¸ªèº«ä»½æä¾›è€…ã€‚
3. å¦‚æœä½ å¸Œæœ›ä½ çš„ App è®¿é—®å•ä¸€çš„ repositoryï¼Œä¸è¦æ„å»º OAuth Appã€‚é€šè¿‡ `repo` OAuth app èƒ½è®¿é—®æ‰€æœ‰è®¤è¯ç”¨æˆ·çš„ repositoryã€‚
4. ä¸è¦ä¸ºä½ çš„å›¢é˜Ÿæˆ–è€…å…¬å¸åˆ›å»º OAuth Appã€‚
    OAuth App ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç”¨æˆ·ï¼Œå¦‚æœä¸ºå…¬å¸åˆ›å»ºè¯¥ OAuth App çš„äººè¦ç¦»å¼€å…¬å¸ï¼Œå…¬å¸å°†æ²¡æœ‰äººèƒ½å¤Ÿè®¿é—® OAuth Appã€‚

æ›´å¤šå…³äº OAuth App çš„ä¿¡æ¯è¯·çœ‹ï¼š[Ccreating an OAuth App](https://developer.github.com/apps/building-oauth-apps/creating-an-oauth-app/) å’Œ [Registering your app](https://developer.github.com/v3/guides/basics-of-authentication/#registering-your-app)ã€‚

### 2.3ã€ ç§äººè®¿é—® token
ä¸€ä¸ª [ç§äººè®¿é—® token](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/)æ˜¯ä¸€ä¸ªå’Œ OAuth token åŠŸèƒ½ç›¸ä¼¼çš„å­—ç¬¦ä¸²ï¼Œåœ¨è¿™ä¸ª token ä¸­ä½ èƒ½é€šè¿‡ [scopes](https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/)æŒ‡å®šå®ƒçš„æƒé™ã€‚
ç§äººè®¿é—® token åŒæ ·æ¯”å¯†ç ç®€ä¾¿ï¼Œå¹¶ä¸”ä½ èƒ½æ‹¥æœ‰è®¸å¤šç§äººè®¿é—®tokenï¼Œä½ èƒ½éšæ—¶æ’¤é”€å…¶ä¸­ä»»æ„ä¸€ä¸ªtokençš„è®¿é—®æƒé™ã€‚

ä¸€ä¸ªä¾‹å­ï¼Œä½ èƒ½æˆäºˆä¸€ä¸ª ç§äººè®¿é—® token å¯¹ä½ çš„ repository çš„å†™æƒé™ã€‚
å¦‚æœä½ é€šè¿‡è¯¥ token åœ¨ä½ çš„ repository [åˆ›å»ºä¸€ä¸ª issue](https://developer.github.com/v3/issues/#create-an-issue)ï¼Œä½ å°†é€šè¿‡ä¸ªäººè´¦æˆ·è®¿é—® token å®Œæˆèº«ä»½è®¤è¯ã€‚
ä½ èƒ½å°†ç§äººè®¿é—®tokenä½œä¸ºä¸€ä¸ªç¯å¢ƒå˜é‡ä¿å­˜ä¸‹æ¥ï¼Œä»è€Œé‡å¤ä½¿ç”¨ã€‚

åœ¨ä½¿ç”¨ç§äººè®¿é—® token çš„æ—¶å€™ä½ éœ€è¦çŸ¥é“ï¼š
1. è®°ä½ï¼Œè¿™ä¸ª token åªèƒ½ä»£è¡¨ä½ è‡ªå·±ã€‚
2. ä½ å¯ä»¥æ‰§è¡Œä¸€æ¬¡æ€§ cURL è¯·æ±‚ã€‚
3. ä½ èƒ½æ‰§è¡Œç§äººè„šæœ¬ã€‚
4. ä¸è¦ä¸ºä½ çš„å›¢é˜Ÿæˆ–è€…å…¬å¸è®¾ç½®è„šæœ¬ã€‚
5. ä¸è¦å°†è´¦æˆ·å…±äº«ä¸ºä¸€ä¸ªæœºå™¨äººè´¦æˆ·ã€‚

### 2.4ã€ å†³å®šä½ è¦é›†æˆçš„å†…å®¹
åœ¨ä½ åˆ›å»ºä¸€ä¸ªé›†æˆç¨‹åºä¹‹å‰ï¼Œä½ éœ€è¦å†³å®šæœ€ä½³çš„è®¿é—®ï¼Œè®¤è¯å’Œäº¤äº’ API ã€‚
ä¸‹å›¾æœ‰å‡ ä¸ªé—®é¢˜ï¼Œå°è¯•å›ä»–é—®é¢˜ç¡®å®šä½ éœ€è¦çš„è®¤è¯æ–¹å¼ï¼š
- ![2018-08-16-intro-to-apps-flow.png](/assets/Image/2018-08-16-intro-to-apps-flow.png)

è€ƒè™‘ä¸‹è¿°å…³äºä½ éœ€è¦é€‰æ‹©é‚£ç§è®¤è¯æ–¹å¼çš„é—®é¢˜ï¼š
1. æˆ‘è¦é›†æˆçš„çš„è¡Œä¸ºä»…é™æˆ‘è‡ªå·±è¿˜æ˜¯ç±»ä¼¼ä¸€ä¸ª app è®¸å¤šäººéƒ½èƒ½è®¿é—®ï¼Ÿ
2. æˆ‘æ˜¯å¦å¸Œæœ›å…¶ä½œä¸ºä¸ªä½“ç‹¬ç«‹è¡Œäº‹ï¼Ÿ
3. æˆ‘æ˜¯å¦å¸Œæœ›é™åˆ¶å®ƒçš„è®¿é—®æƒé™ï¼Ÿ
4. å®ƒç®€å•è¿˜æ˜¯å¤æ‚ï¼Ÿ ä¾‹å¦‚ï¼Œä¸ªäººè®¿é—®ä»¤ç‰Œé€‚ç”¨äºç®€å•è„šæœ¬å’ŒcURLï¼Œè€ŒOAuthåº”ç”¨ç¨‹åºå¯ä»¥å¤„ç†æ›´å¤æ‚çš„è„šæœ¬ã€‚

### 2.5ã€ å°ç»“
é€šè¿‡å¯¹æ¯”æˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯åŠŸèƒ½å—é™çš„èº«ä»½è®¤è¯å½¢å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰å®š GitHub App ï¼Œå¦‚æœ‰å¿…è¦ï¼Œæˆ‘ä»¬ä¼šç»§ç»­äº†è§£å…¶ä»–çš„èº«ä»½è®¤è¯å½¢å¼ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬è¦æ·±å…¥ GitHub Appã€‚


## ä¸‰ã€ å¿«é€Ÿå¼€å§‹ï¼šæ„å»ºä½ çš„ç¬¬ä¸€ä¸ª GitHub App
### 3.1ã€ ä»‹ç»
è¿™ä¸ªæ•™ç¨‹å°†å¸®åŠ©ä½ æ„å»ºä¸€ä¸ª GitHub App å¹¶ä¸”åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œå®ƒã€‚
ä½ å³å°†æ„å»ºçš„ app çš„åŠŸèƒ½ä¸ºï¼šå®‰è£…æ­¤ app çš„ repository åœ¨æ–°å»º issue çš„æ—¶å€™ app å°†è‡ªåŠ¨ä¸º issue å¢åŠ  labelã€‚
å®Œæˆäº†è¿™ä¸ªæ•™ç¨‹ï¼Œä½ å°†æ‹¥æœ‰ä½¿ç”¨GitHubåº”ç”¨ç¨‹åºå¢å¼ºå·¥ä½œæµç¨‹æ‰€éœ€çš„å·¥å…·ã€‚

è¿™ä¸ªé¡¹ç›®å°†é€šè¿‡å¦‚ä¸‹çš„æµç¨‹å¼€å§‹ï¼š
1. æ³¨å†Œä¸€ä¸ª GitHub App
2. ä½¿ç”¨ Smee æ¥æ”¶ webhook paylaods
3. é€šè¿‡ Sinatra è¿è¡Œä¸€ä¸ªç®€å•çš„ web server
4. æ‰§è¡Œä½ çš„ app ç›‘å¬äº‹ä»¶
5. è®¤è¯æˆä¸º GitHub App
6. Authenticaing as an installation
7. ä½¿ç”¨ Octokit.rb library æ‰§è¡Œ REST API é€‰é¡¹ã€‚

>**Note:** è¿™ä¸ªæ•™ç¨‹ä½¿ç”¨ Ruby ç¼–ç¨‹è¯­è¨€å¼€å‘ demo appã€‚
ç„¶è€Œï¼Œè¿™é‡Œæœ‰è®¸å¤šç‰ˆæœ¬çš„ [Octokit](https://developer.github.com/v3/libraries/)ã€‚
å¦‚æœä½ æ›´å€¾å‘ä½¿ç”¨ JavaScript ï¼Œä½ å¯ä»¥ä½¿ç”¨ Probot å’Œ Node.js å¼€å‘ GitHub appã€‚

ä¸€æ—¦å®Œæˆäº†è¿™äº›æ­¥éª¤ï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨å…¨å¥—GitHub APIå¼€å‘å…¶ä»–ç±»å‹çš„é›†æˆã€‚
ä½ å¯ä»¥åœ¨ [GitHub Marketplace](https://github.com/marketplace) å’Œ [Works with GitHub](https://github.com/works-with) æ£€æŸ¥ä¾‹å­æ˜¯å¦æˆåŠŸã€‚

### 3.2ã€ éœ€è¦é¢„å…ˆçŸ¥é“çš„çŸ¥è¯†
å¯¹ä»¥ä¸‹å†…å®¹æœ‰å‡ æœ¬çš„äº†è§£æˆ–è®¸å¯¹ä½ æœ‰å¸®åŠ©ï¼š
1. [GitHub App](https://developer.github.com/apps/about-apps)
2. [Webhoooks](https://developer.github.com/webhooks)
3. [Ruby ç¼–ç¨‹è¯­è¨€](https://www.ruby-lang.org/en/)
4. [REST APIs](https://developer.github.com/v3)
5. [Sinatra](http://sinatrarb.com/)

ä½†æ˜¯ä½ å¯ä»¥åœ¨é˜…è¯»æœ¬æ•™ç¨‹å‰ä¸è€ƒè™‘è‡ªå·±çš„ç»éªŒæ°´å¹³ã€‚
æˆ‘ä»¬å°†æ‚¨éœ€è¦çŸ¥é“çš„ä¿¡æ¯éƒ½ä»¥é“¾æ¥çš„å½¢å¼æ”¾åœ¨æ–‡ç« ä¸­äº†ã€‚

### 3.3ã€ ä¸€æ¬¡æ€§è®¾ç½®
åœ¨ **ä¸€æ¬¡æ€§è®¾ç½®** ä¸€èŠ‚ä¸­ä½ éœ€è¦å®Œæˆä¸‹è¿°ä»»åŠ¡ï¼š
1. ä¸‹è½½ app æ¨¡æ¿ä»£ç 
2. å¼€å¯ä¸€ä¸ªæ–°çš„ Smee é€šé“
3. åœ¨ GitHub æ³¨å†Œä¸€ä¸ªæ–°çš„ app
4. ä¿å­˜ä½ çš„ç§é’¥å’Œ APP ID
5. å‡†å¤‡è¿è¡Œæ—¶ç¯å¢ƒ
6. å¯åŠ¨æœåŠ¡
7. åœ¨ä½ çš„è´¦æˆ·ä¸‹å®‰è£… app 

ä¸€æ—¦ä½ å®Œæˆäº†ä¸Šè¿°æ­¥éª¤ï¼Œä½ å°±å¯ä»¥å¼€å§‹æ„å»ºä½ çš„ app äº†ï¼

#### 3.3.1ã€ ä¸‹è½½ app æ¨¡æ¿ä»£ç 
ä¸‹è½½ [app æ¨¡æ¿ä»£ç ](https://github.com/github/platform-samples/tree/master/api/ruby/building-your-first-github-app) å¹¶ä¿å­˜ç­‰å¾…åç»­ä½¿ç”¨.

ä½ å°†åœ¨ â€œBuild the appâ€ ä¸€èŠ‚å®šåˆ¶è¿™äº›ä»£ç ã€‚
ç°åœ¨ä½ åªéœ€è¦çŸ¥é“è‡ªå·±ä¸‹è½½çš„å†…å®¹æ”¾åœ¨å“ªé‡Œäº†ã€‚

#### 3.3.2ã€ å¼€å¯ä¸€ä¸ª Smee é€šé“
å¸®åŠ© GitHub å‘ä½ çš„æœ¬åœ°æœºå™¨å‘é€ webhooks ä½ æ— é¡»å°†æœºå™¨æš´éœ²åœ¨å…¬ç½‘ï¼Œä½ å¯ä»¥ä¸‹è½½ä¸€ä¸ªå·¥å…·ï¼šSmeeã€‚
é¦–å…ˆï¼Œåˆ° https://smee.io ç‚¹å‡» **Start a new channel.** (å¦‚æœä½ å·²ç»ä¹ æƒ¯ç”¨å°†æœ¬åœ°æœºå™¨æš´éœ²åœ¨äº’è”ç½‘çš„å…¶ä»–å·¥å…·(å¦‚ï¼š https://dashboard.ngrok.com/get-started æˆ–è€… [localtunnel](https://localtunnel.github.io/www/)))ï¼Œè¯·éšæ„ä½¿ç”¨è¿™äº›å·¥å…·ã€‚
- ![2018-08-16-smee-new-channel.png](/assets/Image/2018-08-16-smee-new-channel.png)

å¯åŠ¨ä¸€ä¸ª Smee é€šé“åˆ›å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„åŸŸåï¼ŒGitHub å¯ä»¥é€šè¿‡è¯¥åŸŸåå‘é€ payloadã€‚
ä½ éœ€è¦çŸ¥é“è¿™ä¸ªåŸŸåæ¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚
è¿™æ˜¯ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„åŸŸåçš„ä¾‹å­ï¼š`https://smee.io/qrfeVRbFbffd6vD`:
- ![2018-08-16-smee-unique-domain.png](/assets/Image/2018-08-16-smee-unique-domain.png)

æ¥ä¸‹æ¥æ‰“å¼€ä½ çš„ Terminal ï¼ŒæŒ‰ç…§ä¸‹è¿°æ­¥éª¤ â€œä½¿ç”¨ CLIâ€ å®‰è£…å¹¶ä¸”è¿è¡Œ Smee ï¼š
1. å®‰è£…å®¢æˆ·ç«¯
    ```
    npm install --global smee-client
    ```
2. è¿è¡Œå®¢æˆ·ç«¯(æ›¿æ¢åŸŸåä¸ºä½ è‡ªå·±çš„åŸŸå)ï¼š
    ```
    smee -u https://smee.io/*************
    ```
    ä½ å°†çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡º
    ```
    Forwarding https://smee.io/************* to http://127.0.0.1:3000/
    Connected https://smee.io//*************
    ```

`smee -u <unique_channel>` å‘½ä»¤é€šçŸ¥ Smee æœªæ¥æ‰€æœ‰çš„ webhook äº‹ä»¶éƒ½ä¼šé€šè¿‡é€šé“å‘é€åˆ°è¿è¡Œåœ¨ä½ å®¢æˆ·ç«¯çš„ Smee ã€‚
å› ä¸ºè¿™ä¸€ç‚¹ï¼Œä½ çš„æœºå™¨ä¸éœ€è¦è¿æ¥åˆ°å…¬ç½‘æ¥æ”¶æ¥è‡ª GitHub çš„ webhook çš„ä¿¡æ¯ã€‚
ä½ èƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ Smee URL æ£€æŸ¥åˆ°æ¥çš„ webhook payload ã€‚
**Node:** ä½ éœ€è¦å°†[ä½ çš„æœåŠ¡ç«¯å£](https://developer.github.com/apps/building-your-first-github-app/#start-the-server)è®¾ç½®ä¸º `3000`
>**Note:** ä½ ä»…ä»…éœ€è¦è·Ÿéšä¸‹è¿° "Use the CLI" ä¾‹å­ã€‚
ä¸è¦æŒ‰ç…§ Smee é¡µé¢ä¸­çš„æŒ‡ç¤ºè¡Œäº‹ã€‚

æˆ‘ä»¬å»ºè®®å½“ä½ å®Œæˆä¸Šè¿°æ­¥éª¤çš„æ—¶å€™ç¦»å¼€ Terminal çª—å£æ‰“å¼€å¹¶ä¿æŒ Smee è¿æ¥ã€‚
å› ä¸ºä½ èƒ½åœ¨æŒæœ‰é‚£ä¸ªç‹¬ä¸€æ— äºŒåŸŸåçš„æƒ…å†µä¸‹æ–­å¼€å’Œé‡è¿ Smee å®¢æˆ·ç«¯(ä¸æƒ³ ngrok)ï¼Œä½ æˆ–è®¸å‘ç°ç¦»å¼€é“¾æ¥å¹¶ä¸”æ‰“å¼€æ–°çš„å‘½ä»¤è¡Œçª—å£æ‰§è¡Œå…¶ä»–å‘½ä»¤å¹¶ä¸å›°å“ªã€‚

å¦‚æœä½ è‡³ä»Šæ²¡æœ‰ GitHub è´¦æˆ·ï¼Œ[ç°åœ¨æ—¶å€™åˆ›å»ºä¸€ä¸ªäº†](https://github.com/join)ã€‚
è®°å¾—åœ¨ç»§ç»­ä¸‹é¢æ­¥éª¤å‰éªŒè¯ä½ çš„é‚®ç®±ã€‚

#### 3.3.3ã€ åœ¨ GitHub æ³¨å†Œä¸€ä¸ªæ–°çš„ app
åœ¨ä½  Github profile ä¸­çš„ [appè®¾ç½®é¡µé¢](https://github.com/settings/apps) ç‚¹å‡» **New GitHub App** æ³¨å†Œä¸€ä¸ªæ–°çš„ app ã€‚
- ![2018-08-16-new-app.png](/assets/Image/2018-08-16-new-app.png)

ä½ è®²çœ‹åˆ°ä¸€ä¸ªè¡¨å•ï¼Œåœ¨å…¶ä¸­å¡«å†™ä½  app çš„è¯¦ç»†ä¿¡æ¯ã€‚
æŸ¥çœ‹ [Creating a GitHub App](https://developer.github.com/apps/building-github-apps/creating-a-github-app/) ç”¨äºåˆå§‹åŒ–æœ¬é¡µé¢çš„å±æ€§ä¿¡æ¯ã€‚
ä¸ºäº†è¾¾åˆ°è¿™ä¸ªæ•™ç¨‹çš„ç›®çš„ï¼Œä½ éœ€è¦è¾“å‡ºç‰¹å®šçš„æ•°æ®ï¼š

>**Note:** ä½ ç¨åèƒ½å¤Ÿæ›´æ–°è¿™äº›è®¾ç½®ï¼Œä»¥æŒ‡å‘æ‰˜ç®¡æœåŠ¡å™¨ã€‚

1. Homepage URLï¼Œä½¿ç”¨ä» Smee å¾—åˆ°çš„åŸŸåï¼š
    - ![2018-08-16-homepage-url.png](/assets/Image/2018-08-16-homepage-url.png)

2. Webhook URLï¼Œå†æ¬¡ä½¿ç”¨ä» Smee å¾—åˆ°çš„åŸŸåï¼š
    - ![2018-08-16-webhook-url.png](/assets/Image/2018-08-16-webhook-url.png)

3. Webhook secetï¼Œåˆ›å»ºä¸€ä¸ªå¯†ç ç”¨äºä¿æŠ¤ä½ çš„ webhook ç«¯ç‚¹çš„å®‰å…¨ã€‚
è¿™ä¸ªå¯†ç åº”è¯¥åªæœ‰ä½ è‡ªå·±å’Œ GitHub(é€šè¿‡è¿™ä¸ªè¡¨å•) çŸ¥é“ã€‚
    - ![2018-08-16-webhook-secret.png](/assets/Image/2018-08-16-webhook-secret.png)

4. åœ¨ Permissions & Webhooks é¡µé¢ï¼Œä½ èƒ½ä¸ºä½ çš„ app æŒ‡å®šä¸€ä¸ªæƒå¥é›†åˆï¼Œè¿™ä¸ªé›†åˆå†³å®šäº†ä½ çš„ app èƒ½å¤Ÿè®¿é—®é‚£äº›æ•°æ®ã€‚
ç°åœ¨å°†è¿™ä¸ªé¡µé¢ä¿ç•™ä¸ºé»˜è®¤ã€‚
ç¨åä½ å°†ä¼šæ›´æ–°è¿™äº›æƒé™ã€‚

5. åœ¨ Permissions & Webhooks é¡µé¢çš„æŒ‰é’®å¤„ï¼ŒæŒ‡å®šè¿™ä¸ª app æ˜¯ public è¿˜æ˜¯ provite ã€‚
è¿™æ˜¯æŒ‡è°å¯ä»¥å®‰è£…è¿™ä¸ª app (æ˜¯åªæœ‰ä½ è‡ªå·±è¿˜æ˜¯ä»»ä½•äººéƒ½å¯ä»¥ï¼Ÿ)ã€‚
ç°åœ¨é€‰æ‹© **Only on this account** (ä»…é™è‡ªå·±å®‰è£…) ã€‚

6. ç‚¹å‡» **Create GitHub App** å®Œæˆ app åˆ›å»º ã€‚

#### 3.3.4ã€ ä¿å­˜ä½ çš„ç§é’¥å’Œ APP ID

åœ¨åˆ›å»ºä½ çš„ app å®Œæˆä¹‹åï¼Œä½ è®²é€€å›åˆ° [app setting page](https://github.com/settings/apps) é¡µé¢ã€‚
åœ¨è¿™é‡Œä½ éœ€è¦åšä¸¤ä»¶äº‹ï¼š

1. **ä¸ºä½ çš„ app ç”Ÿæˆç§é’¥**ã€‚
è¿™åœ¨åç»­è®¤è¯ä½ çš„ app çš„æ—¶å€™æ˜¯å¿…éœ€çš„ã€‚
æ»šåŠ¨é¡µé¢ç‚¹å‡» **Cenerage a private key**ã€‚
ä¿å­˜ç”Ÿæˆçš„ PEM æ–‡ä»¶(æ–‡ä»¶åå­—ç±»ä¼¼ `private-key.pem`)åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­æ–¹ä¾¿åç»­ä½¿ç”¨ã€‚
    - ![2018-08-16-private_key.png](/assets/Image/2018-08-16-private_key.png)

2. **è®°å½• GitHub ä¸ºä½ çš„ app ç”Ÿæˆçš„ç­¾å ID**ã€‚
ä½ éœ€è¦è¿™ä¸ª id ä¸ºè¿è¡Œæ—¶ç¯å¢ƒåšå‡†å¤‡ã€‚
    - ![2018-08-16-app_id.png](/assets/Image/2018-08-16-app_id.png)


#### 3.3.5ã€ å‡†å¤‡è¿è¡Œæ—¶ç¯å¢ƒ

ä¸ºäº†ä¿è¯ä½ çš„ä¿¡æ¯å®‰å…¨ï¼Œæˆ‘ä»¬æ¨èä½ å°†æ‰€æœ‰ä½ çš„ app ç›¸å…³çš„ç§˜å¯†æ”¾åˆ°ä½ çš„ç”µè„‘å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥å†™åœ¨ä»£ç ä¸­ã€‚
ä½ å¯ä½ é€šè¿‡åˆ›å»ºå‡ ä¸ªç¯å¢ƒå˜é‡å®Œæˆè¿™ä»¶äº‹ï¼š

1. ä»å‰ä¸€èŠ‚æåˆ°çš„ app ID å¼€å§‹ã€‚åœ¨ä¸€ä¸ªæ–°çš„ Terminal (ç¦»å¼€æ­£åœ¨è¿è¡Œ Smee çš„é‚£ä¸€ä¸ª Terminal )è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œä½†æ˜¯è¦æ›¿æ¢`12345`ä¸ºä½ çš„ app IDï¼š
    ```
    export GITHUB_APP_IDENTIFIER=12345
    ```

2. æ¥ä¸‹æ¥ï¼Œå¢åŠ ä½ çš„ webhook ç§˜å¯†ï¼š
    ```
    export GITHUB_WEBHOOK_SECRET="your secret here"
    ```

3. æœ€åï¼Œæ·»åŠ ä»¥å‰ç”Ÿæˆå’Œä¿å­˜çš„ ç§é’¥ ã€‚
å› ä¸ºç§é’¥æ˜¯å­˜å‚¨åœ¨æ–‡ä»¶ä¸­çš„ï¼Œä½ éœ€è¦ä½¿ç”¨ `awk` å’Œå­˜å‚¨å®ƒçš„è·¯å¾„æ–¹ä¾¿ app å»è¯»å–ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœä½ å­˜å‚¨çš„æ–‡ä»¶ä¸º `private-key.pem`,ä½ éœ€è¦è¾“å…¥ï¼š
    ```
    export GITHUB_PRIVATE_KEY=`awk '{printf "%s\\n", $0}' path/to/your/private-key.pem`
    ```

#### 3.3.6ã€ å¯åŠ¨æœåŠ¡

ä½ çš„æ–° app åˆ°ç°åœ¨è¿˜ä»€ä¹ˆéƒ½æ²¡æœ‰åšï¼Œä½†æ˜¯å½“å‰ï¼Œä½ èƒ½ä½¿ä¹‹è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šã€‚

åœ¨è®¾ç½®ç¯å¢ƒä¾¿ä»¤çš„ Terminal ï¼Œä½¿ç”¨ `cd` è¿›å…¥åˆ° ä¸‹è½½æ¨¡æ¿ app ä»£ç çš„åœ°æ–¹ã€‚
åœ¨ repository ä¸­çš„ Ruby ä»£ç å°†ä¼šå¯åŠ¨ä¸€ä¸ª [Sinatra](http://sinatrarb.com/) web æœåŠ¡ã€‚
è¿™éƒ¨åˆ†ä»£ç çš„ä¾èµ–åº“å¾ˆå°‘ã€‚
ä½ å¯ä»¥é€šè¿‡ä¸‹è¿°å‘½ä»¤å®‰è£…ä¾èµ–ï¼š
```
gem install bundler
```
ç´§æ¥ç€ï¼š
```
bundle install
```
åœ¨ä¾èµ–å®‰è£…å®Œæˆçš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å¯åŠ¨æœåŠ¡ï¼š
```
ruby server.rb
```

ä½ å°†çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„å“åº”ï¼š
```
== Sinatra (v2.0.3) has taken the stage on 3000 for development with backup from Puma
Puma starting in single mode...
* Version 3.11.2 (ruby 2.4.0-p0), codename: Love Song
* Min threads: 0, max threads: 16
* Environment: development
* Listening on tcp://localhost:3000
Use Ctrl-C to stop
```

å¦‚æœä½ çœ‹åˆ°çš„é”™è¯¯ï¼Œè¯·ç¡®ä¿ä½ è¿è¡ŒæœåŠ¡çš„çª—å£ä¸ä½¿ç”¨ `export` å‘½ä»¤æ·»åŠ ç¯å¢ƒå˜é‡çš„çª—å£ä¸€è‡´ã€‚
å¦‚æœçª—å£ä¸ä¸€è‡´é‡æ–°æ‰§è¡Œ **å‡†å¤‡è¿è¡Œæ—¶ç¯å¢ƒ** å°èŠ‚ä¸­çš„å‘½ä»¤ï¼Œå¹¶å¯åŠ¨è¿™ä¸ªæœåŠ¡ã€‚

ä¸€æ—¦æœåŠ¡è¢«å¯åŠ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨æµè§ˆå™¨åˆ° `http://localhost:3000` æµ‹è¯•æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œäº†ã€‚
å¦‚æœ app å¦‚é¢„æœŸèˆ¬å·¥ä½œï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæœ‰å¸®åŠ© error é¡µé¢ï¼š
- ![2018-08-16-sinatra-404.png](/assets/Image/2018-08-16-sinatra-404.png)

è¿™å¾ˆå¥½ï¼å³ä½¿å®ƒæ˜¯ä¸€ä¸ªé”™è¯¯é¡µé¢ï¼Œè¿™æ˜¯ Sinatra é”™è¯¯é¡µé¢ï¼Œè¿™æ„å‘³ç€ä½ çš„ app å¦‚é¢„æœŸèˆ¬è¿æ¥åˆ°äº†æœåŠ¡å™¨ã€‚
ä½ ä¹‹æ‰€ä»¥çœ‹åˆ°è¿™ä¸ªé”™è¯¯é¡µé¢æ˜¯å› ä¸ºä½ æ²¡æœ‰ä¸ºä½ çš„ app è®¾ç½®éœ€è¦æ˜¾ç¤ºçš„å†…å®¹ã€‚

#### 3.3.7ã€ åœ¨ä½ çš„è´¦æˆ·ä¸‹å®‰è£… app 

ä½ å¯ä»¥é€šè¿‡å°†è‡ªå·±çš„ app å®‰è£…åˆ°è‡ªå·±çš„ GitHub è´¦æˆ·ä¸‹å¹¶ä¸”æ£€æŸ¥ Terminal çš„è¾“å‡ºä¿¡æ¯ï¼Œä»è€Œæµ‹è¯•æœåŠ¡ç«¯ç«¯æ˜¯å¦æ­£åœ¨ç›‘å¬ä½ çš„ app ã€‚

è¦å®‰è£… app ï¼Œæ‰“å¼€ [app settings page](https://github.com/settings/apps),é€‰æ‹©ä½ çš„ appï¼Œç„¶åç‚¹å‡»ä¾§è¾¹æ çš„ **Install App**  ã€‚
æ¥ä¸‹æ¥ä½ çš„ç”¨æˆ·åç‚¹å‡» **Install** ã€‚

ä½ å°†è¢«è¯¢é—®è¦å®‰è£… app åˆ°æ‰€æœ‰çš„ repositories è¿˜æ˜¯å…¶ä¸­ä¹‹ä¸€(é€‰æ‹©)ã€‚
å¦‚æœä½ å¸Œæœ›ä¸ºæ‰€æœ‰çš„ repositories å®‰è£… app é‚£å¾ˆå¥½ï¼
ä½ æˆ–è®¸åªæƒ³åˆ›å»ºä¸€ä¸ªæ²™ç›’ repository ç”¨äºæµ‹è¯•ç›®çš„é‚£ä¹ˆé€‰æ‹©å“ªä¸€ä¸ª repository å°±å¥½ã€‚
- ![2018-08-16-install_permissions.png](/assets/Image/2018-08-16-install_permissions.png)

ä¼šåç‚¹å‡» **Install** æŸ¥çœ‹ Terminal è¾“å‡ºã€‚
ä½ åº”è¯¥æŸ¥çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹ä¿¡æ¯æ‰å¯¹ï¼š
```
D, [2018-06-29T15:45:43.773077 #30488] DEBUG -- : ---- recevied event integration_installation
D, [2018-06-29T15:45:43.773141 #30488] DEBUG -- : ----         action created
192.30.252.44 - - [29/Jun/2018:15:45:43 -0400] "POST / HTTP/1.1" 200 2 0.0067
D, [2018-06-29T15:45:43.833016 #30488] DEBUG -- : ---- recevied event installation
D, [2018-06-29T15:45:43.833062 #30488] DEBUG -- : ----         action created
192.30.252.39 - - [29/Jun/2018:15:45:43 -0400] "POST / HTTP/1.1" 200 2 0.0019
```

è¿™æ˜¯å¥½æ¶ˆæ¯ï¼
è¿™æ„å‘³ç€ä½ çš„ app æ¥æ”¶åˆ°äº†è¢«å®‰è£…åˆ° GitHub è´¦æˆ·çš„é€šçŸ¥ã€‚
å¦‚æœä½ çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„ä¿¡æ¯è¯´æ˜ä½ çš„ app æ­£åœ¨è¿è¡ŒæŒ‰é¢„æœŸè¿è¡Œåœ¨æœåŠ¡ç«¯ã€‚ğŸ™Œ

### 3.4ã€ æ„å»º app (Building the app)

ä½ æ˜¯å¦æƒ³çŸ¥é“ Terminal è¾“å‡ºçš„ä¸Šè¿°å†…å®¹æ¥è‡ªå“ªé‡Œï¼Œé‚£äº›å†…å®¹è¢«å†™åœ¨ server.rb ä¸­çš„[æ¨¡æ¿ä»£ç ](https://developer.github.com/apps/building-your-first-github-app/#download-app-boilerplate)ä¸­ã€‚
åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶ã€‚
æ˜¯æ—¶å€™æŒ–æ˜ä»£ç å¹¶å®šåˆ¶ä½ çš„ app äº†ã€‚

`server.rb` åŒ…å« app ä¸­å°šæœªè¢«å®šåˆ¶çš„æ¨¡æ¿ä»£ç ã€‚
åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œä½ å°†çœ‹åˆ°ä¸€äº›ç”¨äºå¤„ç† webhook äº‹ä»¶çš„å ä½ç¬¦ä»£ç ï¼Œå’Œä¸€äº›å…¶ä»–çš„ç”¨äºåˆå§‹åŒ– Octokit.rb å®¢æˆ·ç«¯çš„ä»£ç ã€‚
è¿™ä¸ªæ•™ç¨‹çš„å‰©ä½™éƒ¨åˆ†ç”¨äºæŒ‡å¯¼å®šåˆ¶ä»£ç å®Œæˆ app è‡ªåŠ¨ä¸ºå…¶æ‰€å®‰è£…çš„ reposity çš„å¤„äº open çŠ¶æ€çš„ issue å¢åŠ  `needs-response` æ ‡ç­¾ã€‚

### 3.5ã€ å°ç»“
å…³äºä¸Šè¿°å‡ ä¸ªéƒ¨åˆ†çš„å·¥ä½œç»†èŠ‚çš„ç†è§£ï¼š
- ![2018-08-16-github-app-workflow.png](/assets/Image/2018-08-16-github-app-workflow.png)

æˆ‘ä»¬è¦åšçš„äº‹æƒ…å°±æ˜¯é‡æ–°å®šåˆ¶è‡ªå®šä¹‰é€»è¾‘
1. ä½¿è‡ªå®šä¹‰é€»è¾‘ä½¿ç”¨ app èº«ä»½è®¤è¯ä¿¡æ¯è·å¾— GitHub çš„ä¿¡ä»»
2. ä½¿ç”¨è‡ªå®šä¹‰é€»è¾‘åœ¨è·å–ä¿¡ä»»åæ‰§è¡Œé¢„æœŸåŠ¨ä½œå®Œæˆä¸šåŠ¡é€»è¾‘

ç¬¬ä¸‰èŠ‚ï¼Œè‡ªå§‹è‡³ç»ˆæœªæåŠèº«ä»½è®¤è¯ç»†èŠ‚ã€‚
åæ¥æˆ‘ä»¬å‘ç°åœ¨è¿™é‡Œ
1. https://developer.github.com/v3/oauth_authorizations/
2. https://developer.github.com/v3/auth/
- mdï¼Œä¸çœ‹ä½ ç›®å½•ç JB ç¿»ï¼Œç°åœ¨æ‰æ‰¾åˆ°ç›®æ ‡ã€‚


### 3.6ã€ ç¬¬ ä¸‰ èŠ‚ Over
æš‚æ—¶ç•¥å»ä¸çœ‹ï¼Œå¦‚æœåç»­å‘ç°æœ‰å¿…è¦å†ç»­

## å››ã€ æ„å»º OAuth App
ä½ å¯ä»¥æ„å»ºå…¬ç”¨æˆ–è€…ç§ç”¨çš„ OAuth App ã€‚
å­¦ä¹ å¦‚ä½•æ³¨å†Œ OAuth App å’Œå¦‚ä½•ä¸ºå…¶è®¾ç½®æƒé™ä»¥åŠå¦‚ä½•è®¤è¯ã€‚

1. [åˆ›å»ºä¸€ä¸ª OAuth App](https://developer.github.com/apps/building-oauth-apps/creating-an-oauth-app/) ï¼š
    ä½ èƒ½åœ¨ä½ çš„ç§æœ‰è´¦æˆ·æˆ–è€…ä»»ä½•å…·æœ‰ç®¡ç†å‘˜æƒé™çš„ç»„ç»‡è´¦æˆ·ä¸‹åˆ›å»ºå’Œæ³¨å†Œ OAuth App ã€‚
    å½“ä½ åˆ›å»º OAuth App çš„æ—¶å€™è¯·æ³¨æ„ä¿æŠ¤ä½ çš„éšç§(ç¡®ä¿ä½¿ç”¨çš„ä¿¡æ¯å¯ä»¥è¢«æš´éœ²)ã€‚

2. [ä¸ºä½ çš„ app åˆ›å»ºè‡ªå®šä¹‰å¾½ç« ](https://developer.github.com/apps/building-oauth-apps/creating-custom-badges-for-oauth-apps/) ï¼š
    ä½ èƒ½é€šè¿‡ä¸Šä¼ è‡ªå·±çš„ logo å›¾ç‰‡æ›¿æ¢ OAuth APP é»˜è®¤çš„å¾½ç« ï¼Œä¹Ÿå¯ä»¥å®šåˆ¶èƒŒæ™¯ã€‚

3. [æˆæƒ OAuth App](https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/) : 
    ä½ å¯ä»¥ä½¿å…¶ä»–ç”¨æˆ·è®¤è¯ä½ çš„ app ã€‚

4. [ç†è§£ OAuth App çš„ä½œç”¨åŸŸ(Scopes)](https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/) :
    ä½œç”¨åŸŸ(Scope)å…è®¸ä½ æ˜ç¡®æŒ‡å®šä½ è¦è®¿é—®çš„æ•°æ®ç±»å‹ã€‚
    ä½œç”¨åŸŸçš„è®¿é—®é™åˆ¶é€šè¿‡ OAuth token æ¥å®Œæˆã€‚
    å®ƒä»¬ä¸ä¼šè¢«æˆäºˆä»»ä½•ç”¨æˆ·æ‰€æˆäºˆçš„æƒé™ä¹‹å¤–çš„æƒé™ã€‚

### 4.1ã€ åˆ›å»ºä¸€ä¸ª OAuth App
- [ç•¥](https://developer.github.com/apps/building-oauth-apps/creating-an-oauth-app/)
### 4.2ã€ ä¸ºä½ çš„ app åˆ›å»ºè‡ªå®šä¹‰å¾½ç« 
- [ç•¥](https://developer.github.com/apps/building-oauth-apps/creating-custom-badges-for-oauth-apps/)

### 4.3ã€ [æˆæƒ OAuth App](https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/)

ä½ å¯ä»¥ä½¿å…¶ä»–ç”¨æˆ·è®¤è¯ä½ çš„ app ã€‚

>**Note:** GitHub çš„ OAuth å®ç°æ”¯æŒæ ‡å‡†çš„ [è®¤è¯ä»£ç æˆæƒç±»å‹](https://tools.ietf.org/html/rfc6749#section-4.1)ã€‚
ä½ åº”è¯¥æŒ‰ç…§ä¸‹é¢çš„æµç¨‹è·å–ä¸€ä¸ª è®¤è¯ç  ç„¶åç”¨å®ƒæ›¿æ¢token(éšå¼ç±»å‹çš„æˆæƒä¸è¢«æ”¯æŒ))ã€‚

å…³äºé”™è¯¯ä¿¡æ¯ï¼ŒæŸ¥çœ‹ä¸‹è¿°å†…å®¹ï¼š
1. [è®¤è¯è¯·æ±‚é”™è¯¯](https://developer.github.com/apps/managing-oauth-apps/troubleshooting-authorization-request-errors)
2. [OAuth App è®¿é—® token è¯·æ±‚é”™è¯¯](https://developer.github.com/apps/managing-oauth-apps/troubleshooting-oauth-app-access-token-request-errors)

#### 4.3.1ã€ Web app æµç¨‹
ä¸ºä½ çš„ app æŒ‰ä¸‹è¿°æµç¨‹è®¤è¯ç”¨æˆ·ï¼š
1. ç”¨æˆ·è¢«é‡å®šå‘å»è¯·æ±‚ä»–ä»¬çš„ GitHub èº«ä»½ã€‚
2. ç”¨æˆ·è¢« GitHub é‡å®šå‘å›ä½ çš„ç«™ç‚¹ã€‚
3. ä½ çš„ app é€šè¿‡ç”¨æˆ·çš„ token è®¿é—® APIã€‚

##### 4.3.1.1ã€ ç”¨æˆ·è¢«é‡å®šå‘å»è¯·æ±‚ä»–ä»¬çš„ GitHub èº«ä»½

```
GET https://github.com/login/oauth/authorize
```

**å‚æ•°**

|Name|Type|Description|
|----|----|-----------|
|client_id|string|**å¿…éœ€**ã€‚å®¢æˆ·ç«¯IDå½“ä½ [æ³¨å†Œ](https://github.com/settings/applications/new)çš„æ—¶å€™ä¼šå¾—åˆ°ã€‚|
|redirect_url|string|å½“ç”¨æˆ·åœ¨å®Œæˆèº«ä»½è®¤è¯åä½ çš„ app ä¼šå‘é€ç»™ä»–è¿™ä¸ª urlã€‚ç»†èŠ‚çœ‹ä¸‹æ–‡çš„ é‡å®šå‘url(redirect urls)|
|scope|string|ä¸€ä¸ªç”¨ç©ºæ ¼åˆ†éš”çš„ä½œç”¨åŸŸåˆ—è¡¨ã€‚å¦‚æœæ²¡æœ‰æä¾›ï¼Œ`scope`é»˜è®¤æ˜¯ä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œæ„å‘³ç€åº”ç”¨æ²¡æœ‰è¢«æˆäºˆä»»ä½•ä½œç”¨åŸŸã€‚å¯¹äºåœ¨ app ä¸­å®Œæˆèº«ä»½è®¤è¯çš„ç”¨æˆ·æ¥è®²ï¼Œè¿™ä¸ªä½œç”¨åŸŸåˆ—è¡¨æ˜¯ä¸å¯è§çš„ã€‚åœ¨ç”¨æˆ·èº«ä»½è®¤è¯é˜¶æ®µè¿™ä¸ªä½œç”¨åŸŸçš„åˆ†é…å·¥ä½œå°†ä¼šè‡ªåŠ¨å®Œæˆã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç”¨æˆ·å·²ç»æ‰§è¡Œäº†ä¸¤æ¬¡ web æµç¨‹ï¼Œå¹¶ä¸”å·²ç»é€šè¿‡ `user` è®¤è¯äº†ä¸€ä¸ª token é€šè¿‡ `repo` è®¤è¯äº†ä¸€ä¸ª token ç¬¬ä¸‰æ¬¡ web æµç¨‹å°†ä¸éœ€è¦ä¸º `user` å’Œ `repo` ä½œç”¨åŸŸæä¾› token ã€‚|
|state|string|ä¸€ä¸ªæ— æ³•çŒœæµ‹çš„éšæœºå­—ç¬¦ä¸²ã€‚ç”¨äºä¿éšœå…æ”¶è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ã€‚|
|allow_signup|string|æ˜¯å¦è¦åœ¨è®¤è¯æµç¨‹ä¸­ä¸ºæœªæ³¨å†Œ GitHub çš„ç”¨æˆ·æä¾›æ³¨å†Œé€‰é¡¹ã€‚é»˜è®¤æ˜¯`true`ã€‚|

##### 4.3.1.2ã€ ç”¨æˆ·è¢« GitHub é‡å®šå‘å›ä½ çš„ç«™ç‚¹
å¦‚æœç”¨æˆ·è®¿é—®äº†ä½ çš„è¯·æ±‚ï¼ŒGitHub å°†å…¶é‡å®šå‘å›ä½ çš„ç«™ç‚¹ï¼ŒåŒæ—¶åœ¨ code å‚æ•°ä¸­æºå¸¦ä¸€ä¸ªä¸´æ—¶çš„ `code` ï¼Œåœ¨ `state` å‚æ•°ä¸­æºå¸¦ä½ ä¹‹å‰æä¾›çš„å‚æ•°ã€‚
å¦‚æœ states ä¸å¿…é…ï¼Œè¯´æ˜è¯·æ±‚æ˜¯ç”±ä¸‰æ–¹ç¨‹åºåˆ›å»ºçš„ï¼Œè¿›ç¨‹åº”è¯¥è¢«ç»ˆæ­¢ã€‚

ç”¨ access token æ›¿æ¢ `code` ã€‚
```
POST https://github.com/login/oauth/access_token
```

**å‚æ•°**

|Name|Type|Description|
|----|----|-----------|
|client_id|string|**å¿…éœ€ã€‚** ä» GitHub ä¸ºä½  GitHub App æ¥æ”¶å®¢æˆ·ç«¯ IDã€‚|
|client_secret|string|**å¿…éœ€ã€‚** ä» GitHub ä¸ºä½ çš„ GitHub App æ¥æ”¶ç§˜é’¥|
|code|string|**å¿…éœ€ã€‚** ä½ æ¥æ”¶åˆ°çš„ code å’Œä½ åœ¨ *æ­¥éª¤ 1* æ¥æ”¶åˆ°çš„ response ç›¸ä¼¼|
|redirect_uri|string|åº”ç”¨ç¨‹åºä¸­çš„ URL ï¼Œåœ¨ç”¨æˆ·æˆæƒåè¢«å‘é€|
|state|string|ä¸å¯é¢„æµ‹çš„éšæœºå­—ç¬¦ä¸²ä½œç”¨ç±»ä¼¼äº *æ­¥éª¤ 1* |

**å“åº” Response**
é»˜è®¤çš„å“åº”ç¬¦åˆä¸‹è¿°å½¢å¼
```
access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&token_type=bearer
```

ä½ ä¹Ÿå¯ä»¥ä¿®æ”¹è¯·æ±‚å¤´ `Accetp` æ¥æ”¶ä¸‹è¿°æ ¼å¼çš„å“åº”ï¼š
```
Accept: application/json
{"access_token":"e72e16c7e42f292c6912e7710c838347ae178b4a", "scope":"repo,gist", "token_type":"bearer"}

Accept: application/xml
<OAuth>
  <token_type>bearer</token_type>
  <scope>repo,gist</scope>
  <access_token>e72e16c7e42f292c6912e7710c838347ae178b4a</access_token>
</OAuth>
```

##### 4.3.1.3ã€ ä½ çš„ app é€šè¿‡ç”¨æˆ·çš„ token è®¿é—® API
token å…è®¸ä½ ä½œä¸ºä¸€ä¸ªç”¨æˆ·å’Œ API å‘ç”Ÿäº¤äº’
```
GET https://api.github.com/user?access_token=...
```

ä½ å¯ä»¥å°† token ä½œä¸ºä¸€ä¸ª GET å‚æ•°ä¼ é€ï¼Œä½†æ˜¯æ›´ç®€æ´çš„æ–¹å¼æ˜¯å°† token æ”¾åœ¨è¯·æ±‚å¤´ä¸­ã€‚
```
Authorization: token OAUTH-TOKEN
```

ä¾‹å¦‚åœ¨ cURL å·¥å…·ä¸­çš„ä½¿ç”¨å¦‚ä¸‹ï¼š
```
curl -H "Authorization: token OAUTH-TOKEN" https://api.github.com/user
```

#### 4.3.2ã€ é Web app æµç¨‹
é€šè¿‡[æ¥å£](https://developer.github.com/v3/oauth_authorizations/#create-a-new-authorization)ä½¿ç”¨åŸºæœ¬èº«ä»½è®¤è¯(Basic Authentication)æ–¹å¼åˆ›å»ºä¸€ä¸ª OAuth2 token ã€‚
é€šè¿‡è¿™ç§æŠ€æœ¯ï¼Œä½ æ— éœ€å°†ç”¨æˆ·åå’Œå¯†ç æ°¸ä¹…å­˜å‚¨åœ¨æŸå¤„ï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥éšæ—¶æ’¤é”€ token è®¿é—®æƒé™ã€‚

>**Note:** å½“ä½¿ç”¨é Web app æµç¨‹åˆ›å»º OAuth2 token çš„æ—¶å€™ï¼Œå¦‚æœä½ çš„ç”¨æˆ·å…è®¸ä½¿ç”¨åŒå› å­èº«ä»½è®¤è¯ ç¡®ä¿ç†è§£å®ƒï¼š  [ä½¿ç”¨åŒå› å­èº«ä»½è®¤è¯](https://developer.github.com/v3/auth/#working-with-two-factor-authentication)

##### 4.3.2.1ã€ é‡å®šå‘ URLs
`redirec_uri` å‚æ•°æ˜¯å¯é€‰çš„ã€‚
å¦‚æœçœç•¥ï¼ŒGitHub è¿˜ä¼šå°†ç”¨æˆ·é‡å®šå‘åˆ° OAuth app ä¸­è®¾ç½®çš„å›è°ƒ URL å»ã€‚
å¦‚æœæä¾›äº†ï¼Œé‡å®šå‘ URL çš„ä¸»æœºåå’Œç«¯å£å¿…é¡»å’Œå›è°ƒ URL åŒ¹é…ã€‚
é‡å®šå‘ URL çš„è·¯å¾„å¿…é¡»æ˜¯ å›è°ƒ URL çš„å­è·¯å¾„ã€‚

```
CALLBACK: http://example.com/path

GOOD: http://example.com/path
GOOD: http://example.com/path/subdir/other
BAD:  http://example.com/bar
BAD:  http://example.com/
BAD:  http://example.com:8080/path
BAD:  http://oauth.example.com:8080/path
BAD:  http://example.org
```

##### 4.3.2.2ã€ ä¸º OAuth App åˆ›å»ºå¤šä¸ª token

ä½ å¯ä»¥ä¸º ç”¨æˆ·/app/ä½œç”¨åŸŸ ç»„åˆåˆ›å»ºå¤šä¸ª token ï¼Œä»¥ä¾¿ä¸ºç‰¹å®šçš„ç”¨ä¾‹åˆ›å»ºä»¤ç‰Œã€‚

å¦‚æœä½ çš„ App æ”¯æŒä½¿ç”¨ GitHub ç™»å½•å¹¶ä¸”ä»…è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„å·¥ä½œæµï¼Œé‚£ä¹ˆè¿™æ˜¯æœ‰ç”¨å¤„çš„ã€‚
å…¶ä»–çš„å·¥ä½œæµæˆ–è®¸éœ€è¦è®¿é—®ç”¨æˆ·çš„ repository ã€‚
ä½¿ç”¨å¤šä¸ª token ï¼Œä½ çš„ OAuth App èƒ½ä¸ºæ¯ç§ä½¿ç”¨æƒ…å½¢æ‰§è¡Œå·¥ä½œæµï¼Œåªè¯·æ±‚æ‰€éœ€çš„èŒƒå›´ã€‚
å¦‚æœç”¨æˆ·åªéœ€è¦ä½¿ç”¨ä½ çš„ app ç™»å½•ï¼Œåˆ™å…¶ä¸åº”è¯·æ±‚æˆäºˆè®¿é—®ç§æœ‰ repository çš„æƒé™ã€‚

æ¯ä¸ª ç”¨æˆ·/åº”ç”¨/ä½œç”¨åŸŸ ç»„åˆæ‰€èƒ½è·å–çš„ token éƒ½æœ‰æ•°é‡é™åˆ¶ã€‚
å¦‚æœä½ çš„ app è¯·æ±‚äº†è¶³å¤Ÿå¤šçš„ token ï¼Œå½“å†æ¬¡è¯·æ±‚æ–°çš„ token çš„æ—¶å€™å°†ä¼šå¯¼è‡´ä¸€ä¸ªæ—§çš„ token å¤±æ•ˆã€‚

>**Warning:** æ’¤é”€æ‰€æœ‰ç”¨æˆ·å¯¹åº”ç”¨ç¨‹åºçš„è®¿é—®ï¼Œå°†åˆ é™¤ app ä¸­å¯ä»¥ä»£è¡¨ç”¨æˆ·çš„ SSH ç§˜é’¥(åŒ…æ‹¬[éƒ¨ç½²çš„ç§˜é’¥](https://developer.github.com/v3/guides/managing-deploy-keys/#deploy-keys))

##### 4.3.2.3ã€ ç”¨æˆ·ç›´æ¥é¢„è§ˆä»–ä»¬çš„è®¿é—®æƒé™
ä½ å¯ä»¥ä¸ºç”¨æˆ·æä¾› OAuth App çš„çš„ç›¸å…³ä¿¡æ¯çš„ é“¾æ¥ ï¼Œæ–¹ä¾¿ç”¨æˆ·äº†è§£å’Œæ’¤é”€å¯¹ app çš„æˆæƒã€‚

æ„å»ºä¸€ä¸ªé“¾æ¥ä½ éœ€è¦ `client_id` ï¼Œå½“ä½ æ³¨å†Œ app çš„æ—¶å€™ï¼Œè¿™ä¸ªå‚æ•°å…è®¸ä½ æ¥æ”¶æ¥è‡ª GitHub çš„ä¿¡æ¯ã€‚

```
https://github.com/settings/connections/applications/:client_id
```

>**Tip:** è¦äº†è§£æ›´å¤šå…³äºä½ çš„ app èƒ½å¤Ÿä¸ºç”¨æˆ·è®¿é—®çš„èµ„æºè¯·æŸ¥çœ‹ï¼š[ä¸ºç”¨æˆ·å‘ç°èµ„æº](https://developer.github.com/v3/guides/discovering-resources-for-a-user/)

## 4.3ã€ [ç†è§£ OAuth App çš„ä½œç”¨åŸŸ(Scopes)](https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/)

ä½œç”¨åŸŸ(Scope)å…è®¸ä½ æ˜ç¡®æŒ‡å®šä½ è¦è®¿é—®çš„æ•°æ®ç±»å‹ã€‚
ä½œç”¨åŸŸçš„è®¿é—®é™åˆ¶é€šè¿‡ OAuth token æ¥å®Œæˆã€‚
å®ƒä»¬ä¸ä¼šè¢«æˆäºˆä»»ä½•ç”¨æˆ·æ‰€æˆäºˆçš„æƒé™ä¹‹å¤–çš„æƒé™ã€‚

å½“åœ¨ GitHub è®¾ç½®ä¸€ä¸ª OAuth App çš„æ—¶å€™ï¼Œè¯·æ±‚çš„ä½œç”¨åŸŸå°†ä»¥æˆæƒçš„å½¢å¼å±•ç¤ºç»™ç”¨æˆ·ã€‚

æŸ¥çœ‹è¯·æ±‚å¤´å¯ä»¥çŸ¥é“ï¼Œä½ å…·æœ‰æ€æ ·çš„ OAuth scope ï¼Œä»¥åŠå½“å‰è¯·æ±‚æ‰€ä½¿ç”¨ scope:
```
curl -H "Authorization: token OAUTH-TOKEN" https://api.github.com/users/technoweenie -I
HTTP/1.1 200 OK
X-OAuth-Scopes: repo, user
X-Accepted-OAuth-Scopes: user
```
- `X-OAuth-Scopes` åˆ—å‡ºä½ çš„ token æ‰€è¢«æˆäºˆçš„æ‰€æœ‰æƒé™ scope ã€‚
- `X-Accepted-OAuth-Scopes` åˆ—å‡ºå½“å‰çš„æ´»åŠ¨æ‰€æ¶‰åŠçš„ scope ã€‚

### 4.3.1ã€ å¯ç”¨çš„ scope

|Name|Description|
|----|-----------|
|(no scope)|æˆäºˆå…¬å…±ä¿¡æ¯çš„åªè¯»æƒé™(åŒ…æ‹¬å…¬å¼€çš„ä¸ªäººèµ„æ–™ä¿¡æ¯ï¼Œå…¬å¼€çš„ repository ä¿¡æ¯ï¼Œä»¥åŠ gists))|
|**repo**|æˆäºˆå¯¹ä»£ç ï¼Œæäº¤çŠ¶æ€ï¼Œinvitationsï¼Œ collaboratorsï¼Œå¢åŠ å›¢é˜Ÿæˆå‘˜ï¼Œçš„è¯»å†™æƒé™ï¼Œä»¥åŠå¯¹å…¬å…±æˆ–ç§æœ‰repositoryä»¥åŠç»„ç»‡çš„repositoryçš„éƒ¨ç½²çŠ¶æ€çš„è¯»å†™æƒé™ã€‚|
|repo:status|æˆäºˆå¯¹ public æˆ– provite çš„ repository çš„æäº¤çŠ¶æ€çš„è¯»å†™æƒé™ã€‚è¿™ä¸ª scope ä»…ä»…(æœ‰å¿…è¦)æˆäºˆå…¶ä»–ç”¨æˆ·æˆ–è€…æœåŠ¡è®¿é—®ç§æœ‰ repository çš„æäº¤çŠ¶æ€è€Œä¸æˆäºˆè®¿é—®ä»£ç çš„æƒé™ã€‚|
|repo_depolyment|æˆäºˆå¯¹ public æˆ– provite çš„ repository çš„ [éƒ¨ç½²çŠ¶æ€(depolyment statuses)](https://developer.github.com/v3/repos/deployments) è®¿é—®æƒé™ã€‚è¿™ä¸ª scope ä»…ä»…(åˆå¿…è¦)æˆäºˆå…¶ä»–ç”¨æˆ·æˆ–è€…æœåŠ¡è®¿é—®éƒ¨ç½²çŠ¶æ€çš„æƒé™ï¼Œä¸åŒ…å«è®¿é—®ä»£ç çš„æƒé™ã€‚|
|public_repo|é’ˆå¯¹ public repository å’Œ organization æˆäºˆè¯»å†™ä»£ç ï¼Œcollaborators å’Œ éƒ¨ç½²çŠ¶æ€çš„æƒé™ã€‚Also required for starring public repositories.|
|repo:invite|é’ˆå¯¹ repository çš„åä½œé‚€è¯·çš„æ¥æ”¶å’Œæ‹’ç»èƒ½åŠ›çš„æƒé™ã€‚ æ­¤èŒƒå›´ä»…ç”¨äºæˆäºˆå…¶ä»–ç”¨æˆ·æˆ–æœåŠ¡è®¿é—®é‚€è¯·è€Œæ— éœ€æˆäºˆå¯¹ä»£ç çš„è®¿é—®æƒé™ã€‚|
|ç•¥â€¦â€¦|ç•¥â€¦â€¦|

> **Note:** åœ¨æœ€åˆé‡å®šå‘ä¸­ä½ çš„ OAuth App èƒ½è¯·æ±‚ scopes ã€‚
ä½ å¯ä»¥æŒ‡å®šç”¨ç©ºæ ¼åˆ†éš”çš„å¤šä¸ª scope ï¼š
>```
>https://github.com/login/oauth/authorize?
>  client_id=...&
>  scope=user%20public_repo
>```

### 4.3.2ã€ è¯·æ±‚å’Œæˆäºˆ scope
`scope` åˆ—å‡ºå’Œ token ç»‘å®šçš„ç”¨æˆ·å·²æˆäºˆçš„ scope ã€‚
é€šå¸¸è¿™äº› scope å’Œä½ è¯·æ±‚çš„ scope æ˜¯ç›¸åŒçš„ã€‚
ç„¶è€Œï¼Œç”¨æˆ·å¯ä»¥ç¼–è¾‘ä»–ä»¬çš„ scope ï¼Œè¿™èƒ½å¤Ÿæœ‰æ•ˆçš„ä½¿æˆäºˆä½  app çš„æƒé™å°‘äºä½  app æ‰€éœ€è¦çš„æƒé™ã€‚
åœ¨ OAuth å·¥ä½œæµç¨‹ç»“æŸåï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥ç¼–è¾‘ token çš„ scope ã€‚
æ‰€ä»¥ä½ åº”è¯¥æ³¨æ„å’Œè°ƒæ•´ä½ çš„ app çš„è¡Œä¸ºã€‚

å½“ç”¨æˆ·é€‰æ‹©æˆäºˆçš„æƒé™å°‘äºä½ æ‰€éœ€è¦çš„æƒé™çš„æ—¶å€™ï¼Œæ•è·å¼‚å¸¸æ˜¯é‡è¦çš„ã€‚
ä¾‹å¦‚ï¼Œ app èƒ½è­¦å‘Šæˆ–è€…é€šè¿‡å…¶ä»–æ–¹å¼é€šçŸ¥å…¶ç”¨æˆ·ï¼Œè®©ç”¨æˆ·äº†è§£åˆ°åŠŸèƒ½çš„å‡å°‘æˆ–è€…åŠŸèƒ½å—é™ã€‚

app æ€»æ˜¯èƒ½å¤Ÿé€šè¿‡å·¥ä½œæµç¨‹ä½¿ç”¨æˆ·è¿”å›åˆ°æƒé™æˆäºˆå¤„ï¼Œä½†æ˜¯ä¸è¦å¿˜äº†ï¼Œç”¨æˆ·ä¹Ÿèƒ½ä¸€ç›´æ‹’ç»æˆäºˆæƒé™ã€‚

æŸ¥çœ‹ [Basics of Authentication guide](https://developer.github.com/guides/basics-of-authentication/)ï¼Œè¿™é‡Œæœ‰æŒæœ‰å¤šä¸ª scope çš„æç¤ºã€‚

### 4.3.3ã€ è§„èŒƒåŒ– scope
å½“è¯·æ±‚å¤šä¸ª scope çš„æ—¶å€™ï¼Œtoken å’Œ scope åˆ—è¡¨è¢«è§„èŒƒåŒ–çš„ä¿å­˜ï¼Œå…¶ä»–éšå¼åŒ…å« scope çš„è¯·æ±‚å°†è¢«ä¸¢å¼ƒã€‚
ä¾‹å¦‚ï¼Œè¯·æ±‚ `user,gist,user:email`  å°†ä¼šè¿”å› `user` å’Œ `gist` scopeï¼Œå› ä¸º `user:email` åŒ…å«åœ¨ `user` scope ä¸­ã€‚